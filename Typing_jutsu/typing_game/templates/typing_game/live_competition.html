<!-- live_competition.html -->
{% extends 'typing_game/base.html' %} 
{% load static %}

{% block title %}Live Competition: {{ competition.title }}{% endblock %}

{% block page %}
<style>
    .page-header{
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 1em 0;
    }
</style>
<div class="page-header">
    <h1>{{competition.title}} is live</h1>
    {% if competition.oraganizer.id == user.id  and user_role == 'organizer' %}
        {%if competition.started %}
            <a href="#" class="button" onclick="return confirm('Sure You want to Restart')" >Retart Competition</a>
        {% else %}
            <a href="#" class="button" onclick="return confirm('Sure You want to Start')">Start Competition</a>
        {%endif%}
    {%endif%}
</div>
<div class="container">
    <h2>Participants</h2>
    {% if competition.oraganizer.id == user.id  and user_role == 'organizer' %}
        {% for participant in joined_participants %}
            <p><strong>{{participants.name}}</strong></p>
        {%empty%}
            <p>No participants yet</p>
        {%endfor%}
    {%else%}
    {%endif%}
</div>
{% endblock %}