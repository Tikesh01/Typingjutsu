<!-- live_competition.html -->
{% extends 'typing_game/base.html' %} 
{% load static %}

{% block title %}Live Competition: {{ competition.title }}{% endblock %}

{% block page %}
<style>
    .page-header{
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 1em 0;
    }
    .uploaded_para{
        border: 2px gainsboro solid;
        border-radius: 10px;
        padding: 1em;
        text-align: justify;
        word-spacing: 0.5em;
        letter-spacing: 0.2em;
    }
    .type-para{

    }
</style>
<div class="page-header">
    <h1>{{competition.title}} is live</h1>
    {% if competition.oraganizer.id == user.id  and user_role == 'organizer' %}
        {%if competition.started %}
            <a href="#" class="button" onclick="return confirm('Sure You want to Restart')" >Retart Competition</a>
        {% else %}
            <a href="#" class="button" onclick="return confirm('Sure You want to Start')">Start Competition</a>
        {%endif%}
    {%endif%}
</div>
{% if competition.oraganizer.id == user.id  and user_role == 'organizer' %}
    <div class="container">
        <h2>Participants</h2>
        {% for participant in joined_participants %}
            <p><strong>{{participants.name}}</strong></p>
        {%empty%}
            <p>No participants yet</p>
        {%endfor%}
    </div>
{%else%}
    <h2>The Paragraph</h2>
    <div class="uploaded_para">
        {% for para in competition.paragraphs %}
            {{ para }}
        {%empty%}
            <p>No paragraph uploaded</p>
        {%endfor%}
    </div>
    <div class="type-para">
        <label for="TypingPara">Type the Paragraph here</label>
        <textarea name="TypingPara" id="TypingPara"></textarea>
    </div>
{%endif%}
{% endblock %}